Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/components/toastify.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _toastify=require('../styles/toastify');var _toastify2=_interopRequireDefault(_toastify);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var _Dimensions$get=_reactNative.Dimensions.get('window'),height=_Dimensions$get.height;var Toastify=function(_Component){_inherits(Toastify,_Component);function Toastify(props){_classCallCheck(this,Toastify);var _this=_possibleConstructorReturn(this,(Toastify.__proto__||Object.getPrototypeOf(Toastify)).call(this,props));_this.state={isShow:false,text:'',opacityValue:new _reactNative.Animated.Value(_this.props.opacity)};return _this;}_createClass(Toastify,[{key:'componentWillUnmount',value:function componentWillUnmount(){this.resetTimeout();}},{key:'show',value:function show(text,duration){var _this2=this;this.setState({isShow:true,text:text,duration:typeof duration==='number'?duration:this.props.durationShort});_reactNative.Animated.timing(this.state.opacityValue,{toValue:this.props.opacity,duration:this.props.fadeInDuration}).start(function(){_this2.isShow=true;if(duration!==_this2.props.end)_this2.close();});}},{key:'close',value:function close(duration){var _this3=this;var delay=typeof duration==='number'?duration:this.state.duration;if(delay===this.props.end)delay=this.props.defaultCloseDelay;if(!this.isShow&&!this.state.isShow)return;this.resetTimeout();this.timer=setTimeout(function(){return _reactNative.Animated.timing(_this3.state.opacityValue,{toValue:0.0,duration:_this3.props.fadeOutDuration}).start(function(){_this3.setState({isShow:false});_this3.isShow=false;});},delay);}},{key:'resetTimeout',value:function resetTimeout(){clearTimeout(this.timer);}},{key:'position',value:function position(){if(this.props.position==='top')return this.props.positionValue;else if(this.props.position==='center')return height/2;return height-this.props.positionValue;}},{key:'render',value:function render(){return this.state.isShow?_react2.default.createElement(_reactNative.View,{style:[_toastify2.default.container,{top:this.position()}],pointerEvents:'none',__source:{fileName:_jsxFileName,lineNumber:97}},_react2.default.createElement(_reactNative.Animated.View,{style:[_toastify2.default.content,{opacity:this.state.opacityValue},this.props.style],__source:{fileName:_jsxFileName,lineNumber:98}},_react2.default.createElement(_reactNative.Text,{style:this.props.textStyle,__source:{fileName:_jsxFileName,lineNumber:101}},this.state.text))):null;}}]);return Toastify;}(_react.Component);Toastify.propTypes={style:_reactNative.View.propTypes.style,position:_propTypes2.default.oneOf(['top','center','bottom']),textStyle:_reactNative.Text.propTypes.style,positionValue:_propTypes2.default.number,fadeInDuration:_propTypes2.default.number,fadeOutDuration:_propTypes2.default.number,opacity:_propTypes2.default.number,durationShort:_propTypes2.default.number,defaultCloseDelay:_propTypes2.default.number,end:_propTypes2.default.number};Toastify.defaultProps={style:{},position:'bottom',textStyle:_toastify2.default.text,positionValue:120,fadeInDuration:500,fadeOutDuration:500,opacity:1,durationShort:500,defaultCloseDelay:250,end:0};exports.default=Toastify;